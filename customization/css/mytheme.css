/* =========================
   Lexsys look & feel tokens
   ========================= */
:root{
  /* TYPOGRAPHY */
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

  /* LAYOUT */
  --maxw: 72ch;
  --radius: 12px;
  --shadow: 0 4px 24px rgba(0,0,0,.06);

  /* COLOR PALETTE (Lexsys-inspired) 
     👉 If you have official brand HEX codes, swap them here.
     - Primary accent: cool teal/green
     - Neutrals: charcoal -> slate scale
  */
  --lexsys-ink:    #0f172a; /* deep charcoal for headings */
  --lexsys-text:   #1f2937; /* body text (slate-800) */
  --lexsys-muted:  #6b7280; /* muted labels (slate-500/600) */
  --lexsys-line:   #e5e7eb; /* light borders (slate-200) */
  --lexsys-surface:#ffffff; /* cards/backgrounds */
  --lexsys-accent: #0ea5a4; /* teal (≈ brand accent) */
  --lexsys-accent-strong:#0b8e8d;
  --lexsys-accent-weak:  #e6f7f6; /* subtle tint for callouts/nav */

  /* LINKS */
  --link:        var(--lexsys-accent);
  --link-hover:  var(--lexsys-accent-strong);

  /* SPACING SCALE */
  --space-1:.25rem; --space-2:.5rem; --space-3:.75rem;
  --space-4:1rem;   --space-6:1.5rem; --space-8:2rem; --space-12:3rem;
}

/* Dark mode (keeps Lexsys vibe, flips contrast) */
@media (prefers-color-scheme: dark){
  :root{
    --lexsys-ink:    #e5e7eb;
    --lexsys-text:   #cbd5e1;
    --lexsys-muted:  #94a3b8;
    --lexsys-line:   #1f2937;
    --lexsys-surface:#0b1020;
    --lexsys-accent: #22c3bd;
    --lexsys-accent-strong:#11aca6;
    --lexsys-accent-weak: rgba(34,195,189,.12);
    --shadow: 0 8px 32px rgba(0,0,0,.45);
  }
}

/* ===== Base & type ===== */
html{ scroll-behavior:smooth; }
body{
  margin:0;
  font-family: var(--font-sans);
  color: var(--lexsys-text);
  background: var(--lexsys-surface);
  line-height:1.6;
  font-size: clamp(16px, 1.05vw + .6rem, 18px);
}

main, .content, article{
  max-width: var(--maxw);
  margin-inline:auto;
  padding: var(--space-8) var(--space-4);
}

h1,h2,h3{ line-height:1.25; margin: var(--space-6) 0 var(--space-3); color: var(--lexsys-ink); }
h1{ font-weight:800; letter-spacing:-.01em; font-size: clamp(1.9rem, 2.5vw + 1rem, 2.5rem); }
h2{ font-weight:700; font-size: clamp(1.35rem, 1.5vw + .9rem, 1.7rem); }
h3{ font-weight:700; font-size:1.15rem; color: var(--lexsys-muted); }

p, ul, ol, blockquote, pre, table{ margin: 0 0 var(--space-4) 0; }
ul, ol{ padding-inline-start: 1.25rem; }
li + li{ margin-top:.4rem; }

/* ===== Links ===== */
a{ color: var(--link); text-underline-offset: 2px; }
a:hover{ color: var(--link-hover); }

/* ===== Sidebar / TOC (subtle Lexsys tint) ===== */
nav, .toc, .sidebar{
  position: sticky; top: var(--space-8); align-self:start;
  max-height: calc(100vh - var(--space-8));
  overflow:auto;
  padding: var(--space-4);
  border: 1px solid var(--lexsys-line);
  border-radius: var(--radius);
  background: linear-gradient(180deg, var(--lexsys-accent-weak), transparent 120%);
  box-shadow: var(--shadow);
}
nav ul, .toc ul{ list-style:none; padding-left:0; margin:0; }
nav li > a, .toc li > a{
  display:block; padding:.38rem .55rem; border-radius:8px;
  color: var(--lexsys-text); text-decoration:none;
}
nav li > a:hover{ background: rgba(14,165,164,.10); }
nav li[aria-current="page"] > a, .toc li.current > a{
  background: var(--lexsys-accent-weak);
  border-left: 3px solid var(--lexsys-accent);
  padding-left: calc(.55rem - 3px + .55rem);
}

/* ===== Page grid ===== */
.page{ display:grid; grid-template-columns: 280px minmax(0,1fr); gap: var(--space-8); align-items:start; }
@media (max-width: 980px){
  .page{ grid-template-columns: 1fr; }
  nav, .toc, .sidebar{ position:relative; top:auto; max-height:none; }
}

/* ===== Prev/Next buttons (Lexsys accent) ===== */
.pager, .pagination, .footer-nav{ display:flex; gap: var(--space-4); margin-top: var(--space-8); }
.pager a, .pagination a, .footer-nav a{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.6rem .95rem; border-radius:10px;
  border:1px solid var(--lexsys-line); text-decoration:none;
  color: var(--lexsys-text); background: #fff; box-shadow: var(--shadow);
}
.pager a:hover{ border-color: var(--lexsys-accent); color: var(--lexsys-ink); }
.pager a[href*="Previous"]:before{ content:"←"; }
.pager a[href*="Next"]:after{ content:"→"; }

/* ===== Callouts (note/tip/warn with Lexsys teal base) ===== */
.callout{
  border:1px solid var(--lexsys-line);
  border-left:4px solid var(--lexsys-accent);
  padding: var(--space-4);
  border-radius: var(--radius);
  background: var(--lexsys-accent-weak);
  margin: var(--space-6) 0;
}
.callout.note{ --lexsys-accent:#0ea5a4; --lexsys-accent-weak:#e6f7f6; }
.callout.tip{  --lexsys-accent:#10b981; --lexsys-accent-weak: rgba(16,185,129,.10); }
.callout.warn{ --lexsys-accent:#f59e0b; --lexsys-accent-weak: rgba(245,158,11,.12); }

/* ===== Code & tables ===== */
code{ font-family: var(--font-mono); background: rgba(2,6,23,.06); padding:.15em .35em; border-radius:6px; }
pre{ background: rgba(2,6,23,.06); padding: var(--space-4); border-radius: var(--radius); overflow:auto; }
table{ width:100%; border-collapse: collapse; font-variant-numeric: tabular-nums; }
th, td{ border:1px solid var(--lexsys-line); padding:.65rem .75rem; }
thead th{ background: #f7f7f8; text-align:left; color: var(--lexsys-ink); }

/* ===== Lists used for comparisons ===== */
ul.comparison > li{ list-style:none; position:relative; padding-left:1.4rem; }
ul.comparison > li:before{ content:"•"; position:absolute; left:0; top:.1rem; color: var(--lexsys-accent); }

/* ===== Accessibility ===== */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{ left: var(--space-4); top: var(--space-4); width:auto; height:auto; padding:.4rem .6rem; background:#fff; border-radius:8px; box-shadow: var(--shadow); }
:focus-visible{ outline: 3px solid var(--lexsys-accent); outline-offset: 2px; border-radius: 6px; }

/* ===== Media & print ===== */
img{ max-width:100%; height:auto; border-radius:10px; }
@media print{
  nav, .toc, .sidebar, .pager, .footer, .quiz{ display:none !important; }
  main, .content, article{ max-width:none; padding:0; }
  a[href^="http"]:after{ content:" (" attr(href) ")"; font-weight:normal; }
}

/* ===== Quiz (optional) ===== */
.quiz{ border:1px solid var(--lexsys-line); border-radius:var(--radius); padding:var(--space-4); box-shadow:var(--shadow); margin: var(--space-6) 0; }
.quiz .question{ font-weight:700; margin-bottom: var(--space-3); color: var(--lexsys-ink); }
.quiz label{ display:flex; gap:.5rem; align-items:flex-start; padding:.35rem .45rem; border-radius:8px; }
.quiz input{ transform: scale(1.15); margin-top:.2rem; }
.quiz label:hover{ background: rgba(14,165,164,.08); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
}
